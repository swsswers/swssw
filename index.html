<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>太空探索政策模拟游戏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #1a1a2e;
            color: #e94560;
            margin: 0;
            padding: 20px;
        }
        #game-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #16213e;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        button {
            background-color: #e94560;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #ff6b6b;
        }
        #status, #policies {
            margin: 20px 0;
        }
        #policies label {
            display: block;
            margin: 5px 0;
            color: #fff;
        }
        #execute-button {
            background-color: #4CAF50;
        }
        #execute-button:hover {
            background-color: #45a049;
        }
        #result {
            color: #fff;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>太空探索政策模拟</h1>
        <div id="status">
            <p>回合: <span id="turn">1</span></p>
            <p>资金: <span id="money">100</span></p>
            <p>能源: <span id="energy">100</span></p>
            <p>科技点: <span id="tech">0</span></p>
        </div>
        <div id="policies">
            <h2>选择政策（最多5个）</h2>
            <!-- 政策选项将动态生成 -->
        </div>
        <button id="execute-button" onclick="executePolicies()">执行政策</button>
        <div id="result"></div>
    </div>

    <script>
        // 游戏状态初始化
        let gameState = {
            turn: 1,
            money: 100,
            energy: 100,
            tech: 0
        };

        // 初始生成30个政策
        let policies = generatePolicies();

        // 生成政策的函数
        function generatePolicies() {
            let policies = [];
            for (let i = 0; i < 30; i++) {
                policies.push({
                    name: `政策 ${i + 1}`,
                    effect: {
                        money: Math.floor(Math.random() * 50) - 20, // 随机效果：-20到29
                        energy: Math.floor(Math.random() * 50) - 20,
                        tech: Math.floor(Math.random() * 20)       // 0到19
                    },
                    description: `政策 ${i + 1} 的效果`
                });
            }
            return policies;
        }

        // 渲染政策选项到页面
        function renderPolicies() {
            let policiesDiv = document.getElementById("policies");
            policiesDiv.innerHTML = "<h2>选择政策（最多5个）</h2>";
            policies.forEach((policy, index) => {
                let label = document.createElement("label");
                label.innerHTML = `<input type="checkbox" value="${index}"> ${policy.name} (资金: ${policy.effect.money}, 能源: ${policy.effect.energy}, 科技: ${policy.effect.tech})`;
                policiesDiv.appendChild(label);
            });
        }

        // 执行选中的政策
        function executePolicies() {
            let selectedPolicies = Array.from(document.querySelectorAll("#policies input:checked"))
                .map(input => parseInt(input.value));

            // 检查选择数量
            if (selectedPolicies.length > 5) {
                alert("最多只能选择5个政策！");
                return;
            }

            // 计算并显示执行结果
            let result = "执行结果：<br>";
            selectedPolicies.forEach(index => {
                let policy = policies[index];
                gameState.money += policy.effect.money;
                gameState.energy += policy.effect.energy;
                gameState.tech += policy.effect.tech;
                result += `${policy.name}: 资金 ${policy.effect.money}, 能源 ${policy.effect.energy}, 科技 ${policy.effect.tech}<br>`;
            });

            // 推进回合并更新政策
            gameState.turn++;
            policies = generatePolicies(); // 生成新的30个政策
            renderPolicies();
            updateDisplay();
            document.getElementById("result").innerHTML = result;

            // 自动滚动到顶部（可选）
            window.scrollTo(0, 0);
        }

        // 更新界面上的状态显示
        function updateDisplay() {
            document.getElementById("turn").textContent = gameState.turn;
            document.getElementById("money").textContent = gameState.money;
            document.getElementById("energy").textContent = gameState.energy;
            document.getElementById("tech").textContent = gameState.tech;
        }

        // 初始化游戏
        renderPolicies();
        updateDisplay();
    </script>
</body>
</html>
